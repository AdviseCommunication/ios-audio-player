"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(T,d,i)=>{i.r(d),i.d(d,{HomePageModule:()=>y});var h=i(177),u=i(4341),a=i(1075),g=i(8986),m=i(467),n=i(4438),p=i(1626);const k=[{path:"",component:(()=>{var o;class r{constructor(t){this.http=t,this.playlist=[],this.audio=new Audio,this.currentTrackIndex=0,this.currentTimePercent=0,this.currentTrack={src:"",title:"",artist:""}}ngOnInit(){this.loadPlaylist().then(()=>{this.loadTrack(this.currentTrackIndex),this.audio.ontimeupdate=()=>{this.currentTimePercent=this.audio.currentTime/this.audio.duration*100},this.playAudio()})}loadPlaylist(){var t=this;return(0,m.A)(function*(){try{const e=yield t.http.get("../../assets/playlist.json").toPromise();t.playlist=null!=e?e:[],t.playlist.length>0&&(t.currentTrack=t.playlist[0])}catch(e){console.error("Failed to load playlist",e),t.playlist=[]}})()}loadTrack(t){this.currentTrack=this.playlist[t],this.audio.src=this.currentTrack.src,this.audio.load()}playAudio(){this.audio.play()}pauseAudio(){this.audio.pause()}skipForward(){this.currentTrackIndex=(this.currentTrackIndex+1)%this.playlist.length,this.loadTrack(this.currentTrackIndex),this.playAudio()}skipBackward(){this.currentTrackIndex=(this.currentTrackIndex-1+this.playlist.length)%this.playlist.length,this.loadTrack(this.currentTrackIndex),this.playAudio()}seekTo(t){this.audio.currentTime=t.detail.value/100*this.audio.duration}formatTime(t){const e=Math.floor(t/60),l=Math.floor(t%60);return`${e}:${l<10?"0":""}${l}`}}return(o=r).\u0275fac=function(t){return new(t||o)(n.rXU(p.Qq))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-home"]],decls:27,vars:6,consts:[[3,"translucent"],["color","dark"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"img_box"],["src","../../assets/advise.png","alt",""],["id","container"],["min","0","max","100","mode","md","color","warning",3,"ngModelChange","ionChange","ngModel"],["fill","clear","color","light",3,"click"],["slot","icon-only","name","play-back"],["shape","round","color","light",3,"click"],["slot","icon-only","name","play"],["slot","icon-only","name","pause"],["slot","icon-only","name","play-forward"]],template:function(t,e){1&t&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),n.EFF(3," Audio Player "),n.k0s()()(),n.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),n.EFF(8,"Audio Player"),n.k0s()()(),n.j41(9,"div",5),n.nrm(10,"img",6),n.k0s(),n.j41(11,"div",7)(12,"h2"),n.EFF(13),n.k0s(),n.j41(14,"p"),n.EFF(15),n.k0s(),n.j41(16,"ion-range",8),n.mxI("ngModelChange",function(c){return n.DH7(e.currentTimePercent,c)||(e.currentTimePercent=c),c}),n.bIt("ionChange",function(c){return e.seekTo(c)}),n.k0s(),n.j41(17,"p"),n.EFF(18),n.k0s(),n.j41(19,"ion-button",9),n.bIt("click",function(){return e.skipBackward()}),n.nrm(20,"ion-icon",10),n.k0s(),n.j41(21,"ion-button",11),n.bIt("click",function(){return e.playAudio()}),n.nrm(22,"ion-icon",12),n.k0s(),n.j41(23,"ion-button",11),n.bIt("click",function(){return e.pauseAudio()}),n.nrm(24,"ion-icon",13),n.k0s(),n.j41(25,"ion-button",9),n.bIt("click",function(){return e.skipForward()}),n.nrm(26,"ion-icon",14),n.k0s()()()),2&t&&(n.Y8G("translucent",!0),n.R7$(4),n.Y8G("fullscreen",!0),n.R7$(9),n.JRh(e.currentTrack.title),n.R7$(2),n.JRh(e.currentTrack.artist),n.R7$(),n.R50("ngModel",e.currentTimePercent),n.R7$(2),n.SpI("Temps restant : ",e.formatTime(e.audio.duration-e.audio.currentTime),""))},dependencies:[u.BC,u.vS,a.Jm,a.W9,a.eU,a.iq,a.Ob,a.BC,a.ai,a.su],styles:["#container[_ngcontent-%COMP%]{text-align:center;padding:20px}#container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:2px 0}#container[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{padding:0 10px;--bar-height: 3px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#b7b6b6;margin:0}ion-content[_ngcontent-%COMP%]{--ion-background-color: #333333}.img_box[_ngcontent-%COMP%]{padding:20px;background-color:#1d1d1d}.flex_box[_ngcontent-%COMP%]{height:250px;display:flex;justify-content:center;align-items:center}ion-button[_ngcontent-%COMP%]{height:86px;min-height:max-content;margin:0 7px;font-size:21px}"]}),r})()}];let P=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[g.iI.forChild(k),g.iI]}),r})(),y=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[h.MD,u.YN,a.bv,P]}),r})()}}]);